<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Exprob Final Assignment: BallDetection Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="unige.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Exprob Final Assignment
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">BallDetection Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This node is responsable for the ball detection.  
<a href="namespace_ball_detection.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ball_detection_1_1image__feature.html">image_feature</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab81c8ddc2e19ebdc8f2bcc563e6648d5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_ball_detection.html#ab81c8ddc2e19ebdc8f2bcc563e6648d5">BallDetection</a> (gray, hsv, ballFound)</td></tr>
<tr class="memdesc:ab81c8ddc2e19ebdc8f2bcc563e6648d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that recognize any ball in the enviroment by using th <em>OpenCV</em> function <code>cv2.HoughCircles(image, method, dp, minDist)</code>.  <a href="namespace_ball_detection.html#ab81c8ddc2e19ebdc8f2bcc563e6648d5">More...</a><br /></td></tr>
<tr class="separator:ab81c8ddc2e19ebdc8f2bcc563e6648d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2e292098c33e9d50e35e637e131a2e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_ball_detection.html#abb2e292098c33e9d50e35e637e131a2e">main</a> (args)</td></tr>
<tr class="memdesc:abb2e292098c33e9d50e35e637e131a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program entry, it initializes and cleans up ros node.  <a href="namespace_ball_detection.html#abb2e292098c33e9d50e35e637e131a2e">More...</a><br /></td></tr>
<tr class="separator:abb2e292098c33e9d50e35e637e131a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:abe04396aeba9fba94fee10950196b7e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_ball_detection.html#abe04396aeba9fba94fee10950196b7e6">VERBOSE</a> = False</td></tr>
<tr class="separator:abe04396aeba9fba94fee10950196b7e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffe5ee300fe61c300fe7141981012f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_ball_detection.html#a7ffe5ee300fe61c300fe7141981012f9">cl</a> = <a class="el" href="classcolor_labeler_1_1_color_labeler.html">ColorLabeler</a>()</td></tr>
<tr class="memdesc:a7ffe5ee300fe61c300fe7141981012f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiliazation class ColorLabeler.  <a href="namespace_ball_detection.html#a7ffe5ee300fe61c300fe7141981012f9">More...</a><br /></td></tr>
<tr class="separator:a7ffe5ee300fe61c300fe7141981012f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This node is responsable for the ball detection. </p>
<p>There are two main phases:</p>
<ul>
<li><b>pre-processing</b>: Due to the module <em><a class="el" href="namespacecolor_labeler.html">colorLabeler</a></em> the robot is able to detect any ball in the enviroment and recognize its color. Once the ball is detected, the afromentioned module also returns the features for the specific color in order to procede with the tracking</li>
<li><b>tracking</b>: It implemnts a simple algorith in order to track the ball untill the ball is reached, then publishes on the topic <b>cmd_vel</b> in order to reach the ball position.</li>
</ul>
<p>It also publishes on the topic <b>BallState</b> in order to communicate with the <a class="el" href="namespacecmd__man.html" title="This script, implementing a FSM, is the main ROS node.">cmd_man</a> whenever the ball is detected and the robot is next to it. By subscribing on the topic <b>currentState</b>, the robot avoids the tracking when the robot is in the sleep state. Also it remembers which ball has been already detected so, even in this case, it avoids the tracking. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab81c8ddc2e19ebdc8f2bcc563e6648d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81c8ddc2e19ebdc8f2bcc563e6648d5">&#9670;&nbsp;</a></span>BallDetection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def BallDetection.BallDetection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ballFound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that recognize any ball in the enviroment by using th <em>OpenCV</em> function <code>cv2.HoughCircles(image, method, dp, minDist)</code>. </p>
<p>Once the ball has been detected it calls the module colorLabelr and its method generateBoundaries in order to return the required features.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gray</td><td>image in grayscale </td></tr>
    <tr><td class="paramname">hsv</td><td>image in hsv colorspace </td></tr>
    <tr><td class="paramname">ballFound</td><td><code>Bool</code>, It represents if the ball has been found or not</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>lowerBounds: <code>np.array</code>, lower mask of the color detected </dd>
<dd>
upperBound: <code>np.array</code>, upper mask of the color detected </dd>
<dd>
ballFound: <code>Bool</code>, it indicate wheter the ball is dected or not </dd>
<dd>
color: <code>String</code>, it represents the color of the ball detected </dd></dl>

</div>
</div>
<a id="abb2e292098c33e9d50e35e637e131a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2e292098c33e9d50e35e637e131a2e">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def BallDetection.main </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program entry, it initializes and cleans up ros node. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7ffe5ee300fe61c300fe7141981012f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ffe5ee300fe61c300fe7141981012f9">&#9670;&nbsp;</a></span>cl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BallDetection.cl = <a class="el" href="classcolor_labeler_1_1_color_labeler.html">ColorLabeler</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiliazation class ColorLabeler. </p>

</div>
</div>
<a id="abe04396aeba9fba94fee10950196b7e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe04396aeba9fba94fee10950196b7e6">&#9670;&nbsp;</a></span>VERBOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BallDetection.VERBOSE = False</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
